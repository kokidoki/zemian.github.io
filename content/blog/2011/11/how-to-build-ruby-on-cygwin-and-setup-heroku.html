title=How to build Ruby on Cygwin and setup Heroku
date=2011-11-19
type=post
tags=ruby, cygwin
status=published
~~~~~~
I like to use ruby that comes with Cygwin instead of the RubyInstaller for Windows, because the path it handles are more consistenly in Linux form. But the current Cygwin only comes with ruby-1.8.7, so to use ruby-1.9.3, I have to built it on Cygwin on my own. And when building ruby from source on Cygwin, you would also have to install gem on your own as well. Turns out there are few issues that you have to fix too. Here are the steps I got it working:<br />
<br />
0. Ensure you have the typical Cygwin/Linux build tools (gcc, make, autoconf, libiconv, openssl and etc.)<br />
<br />
1. Download source for the following:<br />
&nbsp; a) LibYAML 0.1.4 from http://pyyaml.org/wiki/LibYAML<br />
&nbsp; b) ruby-1.9.3-p0 source from http://ruby-lang.org <br />
&nbsp; c) rubygems-1.8.11 from http://rubygems.org <br />
<b></b><br />
<br />
2. Unzip/tar them all in /tmp<br />
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;">
&nbsp; a) $ cd /tmp/yaml-0.1.4&nbsp;</div>
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;">
&nbsp;&nbsp;&nbsp;&nbsp; $ ./configure &amp;&amp; make &amp;&amp; make install</div>
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;">
<br />
&nbsp; b) $ cd /tmp/ruby-1.9.3-p0/ext/openssl<br />
&nbsp;&nbsp;&nbsp;&nbsp; $ ruby extconf.rb
<br />
&nbsp;&nbsp;&nbsp;&nbsp; $ make &amp;&amp; make install<br />
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;">
<br /></div>
</div>
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;">
&nbsp; c) $ cd /tmp/ruby-1.9.3-p0</div>
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;">
&nbsp; &nbsp;&nbsp; $ export CPPFLAGS=-I/usr/local/include</div>
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;">
&nbsp; &nbsp;&nbsp; $ export LDFLAGS=-L/usr/local/lib&nbsp; &nbsp;&nbsp; </div>
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;">
&nbsp;&nbsp;&nbsp;&nbsp; $ ./configure &amp;&amp; make &amp;&amp; make install</div>
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;">
<br />
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;">
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;">
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;">
&nbsp; e) $ cd /tmp/rubygems-1.8.11</div>
&nbsp;&nbsp;&nbsp;&nbsp; $ ruby setup.rb</div>
</div>
</div>
<br />
With these completed, you may now install Heroku client tool as ruby gem:<br />
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;">
&nbsp; c) $ gem install heroku</div>
You would also need Git to successful push and deploy application to Heroku, but you can get Cygwin 'git' package if you haven't already done so. <br />
<br />
NOTE: FYI, all the user built applications are usually install into<span style="font-family: 'Courier New', Courier, monospace;"> /usr/local</span> directory, while those system (comes with cygwin packages) are in <span style="font-family: 'Courier New', Courier, monospace;">/usr</span>.