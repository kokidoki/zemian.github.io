title=jQuery doesn't suport ajax over the file protocol
date=2011-05-29
type=post
tags=jquery
status=published
~~~~~~
I was playing with jQueryUI today, and a simple example like this failed to update an page.<br />
<br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; $.get('data1.xml', function(data) {</span><br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; $('#main-panel').html(data)</span><br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; });</span><br />
<br />
Running under Firefox4 locally on a PC (static local file protocols), I get errors like this inside Firebug:<br />
<br />
<br />
<div class="errorTitle focusRow subLogRow " role="listitem" style="color: red;"><span class="errorMessage ">Node cannot be inserted at the specified point in the hierarchy"  code: "3</span></div><span class=" " style="color: red;"></span><div class="errorSourceBox errorSource-show focusRow subLogRow " role="listitem" style="color: red;"><img class="errorBreak a11yFocus " role="checkbox" src="chrome://firebug/content/blank.gif" title="Break On This Error" /><a class="errorSource a11yFocus " href="" title="fragment.appendChild( ret[i] );">     fragment.appendChild( ret[i] );&nbsp; jquery.js (line 6134)</a></div><br />
Turns out that this failure only occur when fetching local files because the same code works when deployed and run from a web server. Reading from a bug report here http://bugs.jqueryui.com/ticket/7225 seems to indicate that jQuery AJAX doesn't support local file protocol.<br />
<br />
Interestingly, an IE browser works with above code! And also the jQuery's load method like <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">$('#main-panel').load('data1.xml');</span> works fine with local file!