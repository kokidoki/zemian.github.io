title=Django with Python 3 and MySQL database
date=2014-09-04
type=post
tags=python, mysql, django
status=published
~~~~~~
<br />
I read many folks are having problems using MySQL db driver with Python 3, especially when setting up a Django app. The default Django 1.6.5 is only supporting the MySQLdb driver and that only works with Python 2.<br />
<br />
I have been using mysql-connector-python package with Python 3 and it has built-in django support as well. I had ran into trouble like this <a href="http://bugs.mysql.com/bug.php?id=73232">http://bugs.mysql.com/bug.php?id=73232</a>, but it is fixed now with the latest mysql-connector-python 1.2.3 release. The mysql-connector-python also works with Python 2.7 as well, and it's a pure python library without native code, which makes the install much easier.<br />
<br />
When installing mysql-connector-python, ensure you allow external hosted files like this<br />
<br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">pip install --allow-all-external mysql-connector-python</span><br />
<br />
If you are behind a firewall, use the proxy option<br />
<br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">pip install --proxy my_proxy_server --allow-all-external mysql-connector-python</span><br />
<br />
With these, now you can set your Django settings.py file with MySQL engine<br />
<br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">DATABASES = {<br />&nbsp;&nbsp;&nbsp; 'default': {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'ENGINE': 'mysql.connector.django',<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'NAME': 'mydb',<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'USER': 'myuser',<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'PASSWORD': 'mypassword',<br />&nbsp;&nbsp;&nbsp; }<br />}</span><br />
<br />
PS: My initial testing with Django 1.7 also works pretty well with mysql-connector-python. How sweet!<br />
<br />
<b>UPDATE 07/15/2015:</b><br />
The django 1.8 documentation now recommends using 'mysqlclient' package if you want to use Python3 with MySQL backend. It should be a drop in replacement for 'MySQLdb'.